<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container mt-5 my-5">

	<!-- 1. ìƒë‹¨ í° ìºëŸ¬ì…€ -->
	
	<div id="topCarousel" class="carousel slide mt-5 mb-5" data-bs-ride="carousel">
	  <div class="carousel-inner">
	    <!-- Javaì—ì„œ ì´ë¯¸ 3ê°œì”© ë‚˜ëˆˆ ê·¸ë£¹ì„ ë°˜ë³µ -->
	    <th:block th:each="group, groupStat : ${topCarouselImages}">
	      <div th:class="${groupStat.index == 0} ? 'carousel-item active' : 'carousel-item'">
	        <div class="container">
	          <div class="row justify-content-center">
	            <!-- ê° ê·¸ë£¹ ë‚´ì˜ ì´ë¯¸ì§€ ë°˜ë³µ -->
	            <th:block th:each="image : ${group}">
	              <div class="col-md-4 mb-3">
	                <div class="card h-100 shadow-sm">
	                  <img th:src="@{'/Images/' + ${image.fileName}}" class="card-img-top"
	                       style="height: 200px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
	                  <div class="card-body">
	                    <h5 class="card-title" th:text="${image.name}">ì œí’ˆ ì´ë¦„</h5>
	                    <p class="card-text">ìµœì‹  NVIDIA ê·¸ë˜í”½ì¹´ë“œì…ë‹ˆë‹¤.</p>
	                    <a th:href="@{'/shop/goShop/' + ${image.id}}" class="btn btn-primary w-100">êµ¬ë§¤í•˜ê¸°</a>
	                  </div>
	                </div>
	              </div>
	            </th:block>
	          </div>
	        </div>
	      </div>
	    </th:block>
	  </div>

	  <!-- ìºëŸ¬ì…€ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ -->
	  <button class="carousel-control-prev" type="button" data-bs-target="#topCarousel" data-bs-slide="prev">
	    <span class="carousel-control-prev-icon bg-dark rounded-circle p-2"></span>
	  </button>
	  <button class="carousel-control-next" type="button" data-bs-target="#topCarousel" data-bs-slide="next">
	    <span class="carousel-control-next-icon bg-dark rounded-circle p-2"></span>
	  </button>
	</div>
	<!-- 2. ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ ë‚˜ì—´ -->
	<!-- BASEPRODUCT -->
	<div class="mb-5">
		<h4 class="fw-bold border-bottom pb-2 mb-3">ì „ì²´</h4>
		<div class="row">

			<!-- ğŸ”¹ ì™¼ìª½ ë¯¸ë‹ˆ ìºëŸ¬ì…€ (20%) -->
			<div class="col-md-2 d-flex flex-column gap-2">

				<!-- ìºëŸ¬ì…€ #1 -->
				<div id="leftMiniCarousel1" class="carousel slide" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="ê´‘ê³  ì´ë¯¸ì§€">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel1"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel1"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- ìºëŸ¬ì…€ #2 -->
				<div id="leftMiniCarousel2" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="ê´‘ê³  ì´ë¯¸ì§€">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel2"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel2"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- ìºëŸ¬ì…€ #3 -->
				<div id="leftMiniCarousel3" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="ê´‘ê³  ì´ë¯¸ì§€">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel3"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel3"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- ìºëŸ¬ì…€ #4 -->
				<div id="leftMiniCarousel4" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="ê´‘ê³  ì´ë¯¸ì§€">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel4"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel4"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

			</div>

			<div class="col-md-10 position-relative">
			  <div id="cpuCarousel" class="carousel slide" data-bs-ride="carousel">
			    <div class="carousel-inner">
			      <!-- ìºëŸ¬ì…€ ì•„ì´í…œ ë°˜ë³µ -->
			      <th:block th:each="product, stat : ${productGroups}">
			        <th:block th:if="${stat.index % 10 == 0}">
			          <div th:class="${stat.index == 0} ? 'carousel-item active' : 'carousel-item'">
			            <div class="row row-cols-1 row-cols-md-5 g-4">
			              <th:block th:each="innerProduct, innerStat : ${productGroups}">
			                <th:block th:if="${innerStat.index >= stat.index and innerStat.index < stat.index + 10}">
			                  <div class="col">
			                    <a th:href="@{'/shop/goShop/' + ${innerProduct.id}}" class="text-decoration-none text-dark">
			                      <div class="card h-100">
			                        <img th:src="@{'/Images/' + ${innerProduct.fileName}}"
			                             class="card-img-top"
			                             style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
			                        <div class="card-body">
			                          <h6 class="card-title text-truncate">[[${innerProduct.name}]]</h6>
			                          <p class="card-text fw-bold text-primary">
			                            [[${#numbers.formatInteger(innerProduct.price, 3, 'COMMA')}]]ì›
			                          </p>
			                        </div>
			                      </div>
			                    </a>
			                  </div>
			                </th:block>
			              </th:block>
			            </div>
			          </div>
			        </th:block>
			      </th:block>
			    </div>
			  </div>

			  <!-- ğŸ”¸ ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ì„ carousel ë°–ìœ¼ë¡œ ë¶„ë¦¬í•˜ê³  ìš°ìƒë‹¨ ê³ ì • -->
			  <button class="btn btn-light position-absolute top-0 end-0 mt-2 me-5 z-3"
			          style="width: 40px; height: 40px;"
			          type="button" data-bs-target="#cpuCarousel" data-bs-slide="prev">
			    <span class="carousel-control-prev-icon" style="filter: invert(1);"></span>
			  </button>

			  <button class="btn btn-light position-absolute top-0 end-0 mt-2 me-2 z-3"
			          style="width: 40px; height: 40px;"
			          type="button" data-bs-target="#cpuCarousel" data-bs-slide="next">
			    <span class="carousel-control-next-icon" style="filter: invert(1);"></span>
			  </button>
			</div>
		</div>
	</div>
	<!-- CPU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">CPU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${cpuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- GPU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">GPU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${gpuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- RAM -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">RAM</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${ramList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- DISK -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">DISK</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${diskList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- MBOARD -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">M/B</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${mboardList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- PSU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">PSU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${psuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- COMCASE -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">ì¼€ì´ìŠ¤</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${comcaseList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]ì›</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>
		
		<div class="container text-center mt-5 mb-4">
		  <h2 class="display-5 fw-bold">ğŸ›ï¸ ë¶€í’ˆ ìƒì ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h2>
		  <p class="lead text-muted">í•„ìš”í•œ ë¶€í’ˆì„ ë¹ ë¥´ê²Œ ì°¾ì•„ë³´ì„¸ìš”.</p>
		</div>

	<!-- 3. ì¶”ì²œ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
	<div class="container mt-5" id="productList">
	  <form th:action="@{/main}" method="get" class="input-group mb-4">
	    <input type="text" class="form-control" name="keyword" placeholder="ì›í•˜ëŠ” ì œí’ˆì„ ê²€ìƒ‰í•˜ì„¸ìš”"
	           th:value="${keyword}">
	    <button class="btn btn-outline-primary" type="submit">ê²€ìƒ‰</button>
	  </form>
	</div>

	<!-- 2. ë¶€í’ˆ í•„í„° ë²„íŠ¼ ì˜ì—­ -->
	<div class="container mb-4">
	  <div class="btn-group w-100 d-flex flex-wrap justify-content-center gap-2" role="group">
	    <a th:href="@{/shop/filter/ALL}"
	       class="btn btn-outline-secondary flex-fill">ì „ì²´</a>
	    <a th:href="@{/shop/filter/CPU}"
	       class="btn btn-outline-secondary flex-fill">CPU</a>
	    <a th:href="@{/shop/filter/GPU}"
	       class="btn btn-outline-secondary flex-fill">GPU</a>
	    <a th:href="@{/shop/filter/RAM}"
	       class="btn btn-outline-secondary flex-fill">RAM</a>
	    <a th:href="@{/shop/filter/DISK}"
	       class="btn btn-outline-secondary flex-fill">ë””ìŠ¤í¬</a>
	    <a th:href="@{/shop/filter/MBOARD}"
	       class="btn btn-outline-secondary flex-fill">ë©”ì¸ë³´ë“œ</a>
	    <a th:href="@{/shop/filter/PSU}"
	       class="btn btn-outline-secondary flex-fill">íŒŒì›Œ</a>
	    <a th:href="@{/shop/filter/COMCASE}"
	       class="btn btn-outline-secondary flex-fill">ì¼€ì´ìŠ¤</a>
	  </div>
	</div>

	<!-- 3. ì¶”ì²œ ìƒí’ˆ or ì „ì²´ ë¦¬ìŠ¤íŠ¸ -->
	<div class="container">
	  <div class="row row-cols-1 row-cols-md-4 g-4">
	    <th:block th:each="product : ${productList}">
	      <div class="col">
	        <div class="card h-100 shadow-sm">
	          <img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top"
	               style="height: 200px; object-fit: cover;" alt="ìƒí’ˆ ì´ë¯¸ì§€">
	          <div class="card-body">
	            <h5 class="card-title" th:text="${product.name}">ì œí’ˆ ì´ë¦„</h5>
	            <p class="card-text">
	              <!-- ì œí’ˆ ì„¤ëª…ì´ DBì— ì—†ë‹¤ë©´ ê³ ì • í…ìŠ¤íŠ¸ ë˜ëŠ” ì¡°ê±´ ì¶”ê°€ -->
	              ìµœê³ ì˜ ì„±ëŠ¥ê³¼ í’ˆì§ˆì„ ìë‘í•˜ëŠ” ë¶€í’ˆì…ë‹ˆë‹¤.
	            </p>
	            <a th:href="@{'/buy/' + ${product.id}}" class="btn btn-primary w-100">êµ¬ë§¤í•˜ê¸°</a>
	          </div>
	        </div>
	      </div>
	    </th:block>
	  </div>
	</div>

</div>

</html>