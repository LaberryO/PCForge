<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container mt-5 my-5">

	<!-- 1. ÏÉÅÎã® ÌÅ∞ Ï∫êÎü¨ÏÖÄ -->
	
	<div id="topCarousel" class="carousel slide mt-5 mb-5" data-bs-ride="carousel">
	  <div class="carousel-inner">
	    <!-- JavaÏóêÏÑú Ïù¥ÎØ∏ 3Í∞úÏî© ÎÇòÎàà Í∑∏Î£πÏùÑ Î∞òÎ≥µ -->
	    <th:block th:each="group, groupStat : ${topCarouselImages}">
	      <div th:class="${groupStat.index == 0} ? 'carousel-item active' : 'carousel-item'">
	        <div class="container">
	          <div class="row justify-content-center">
	            <!-- Í∞Å Í∑∏Î£π ÎÇ¥Ïùò Ïù¥ÎØ∏ÏßÄ Î∞òÎ≥µ -->
	            <th:block th:each="image : ${group}">
	              <div class="col-md-4 mb-3">
	                <div class="card h-100 shadow-sm">
	                  <img th:src="@{'/Images/' + ${image.fileName}}" class="card-img-top"
	                       style="height: 200px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
	                  <div class="card-body">
	                    <h5 class="card-title" th:text="${image.name}">Ï†úÌíà Ïù¥Î¶Ñ</h5>
	                    <p class="card-text">ÏµúÏã† NVIDIA Í∑∏ÎûòÌîΩÏπ¥ÎìúÏûÖÎãàÎã§.</p>
	                    <a th:href="@{'/shop/goShop/' + ${image.id}}" class="btn btn-primary w-100">Íµ¨Îß§ÌïòÍ∏∞</a>
	                  </div>
	                </div>
	              </div>
	            </th:block>
	          </div>
	        </div>
	      </div>
	    </th:block>
	  </div>

	  <!-- Ï∫êÎü¨ÏÖÄ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î≤ÑÌäº -->
	  <button class="carousel-control-prev" type="button" data-bs-target="#topCarousel" data-bs-slide="prev">
	    <span class="carousel-control-prev-icon bg-dark rounded-circle p-2"></span>
	  </button>
	  <button class="carousel-control-next" type="button" data-bs-target="#topCarousel" data-bs-slide="next">
	    <span class="carousel-control-next-icon bg-dark rounded-circle p-2"></span>
	  </button>
	</div>
	<!-- 2. Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÉÅÌíà ÎÇòÏó¥ -->
	<!-- BASEPRODUCT -->
	<div class="mb-5">
		<h4 class="fw-bold border-bottom pb-2 mb-3">Ï†ÑÏ≤¥</h4>
		<div class="row">

			<!-- üîπ ÏôºÏ™Ω ÎØ∏Îãà Ï∫êÎü¨ÏÖÄ (20%) -->
			<div class="col-md-2 d-flex flex-column gap-2">

				<!-- Ï∫êÎü¨ÏÖÄ #1 -->
				<div id="leftMiniCarousel1" class="carousel slide" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="Í¥ëÍ≥† Ïù¥ÎØ∏ÏßÄ">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel1"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel1"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- Ï∫êÎü¨ÏÖÄ #2 -->
				<div id="leftMiniCarousel2" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="Í¥ëÍ≥† Ïù¥ÎØ∏ÏßÄ">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel2"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel2"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- Ï∫êÎü¨ÏÖÄ #3 -->
				<div id="leftMiniCarousel3" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="Í¥ëÍ≥† Ïù¥ÎØ∏ÏßÄ">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel3"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel3"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

				<!-- Ï∫êÎü¨ÏÖÄ #4 -->
				<div id="leftMiniCarousel4" class="carousel slide mt-3" data-bs-ride="carousel">
					<div class="carousel-inner">
						<th:block th:each="img, stat : ${miniCarouselImages}">
							<div th:class="${stat.first} ? 'carousel-item active' : 'carousel-item'">
								<a th:href="@{'/shop/goShop/' + ${img.id}}" class="text-decoration-none text-dark">
								<img th:src="@{'/Images/' + ${img.fileName}}" class="d-block w-100 rounded"
									alt="Í¥ëÍ≥† Ïù¥ÎØ∏ÏßÄ">
								</a>
							</div>
						</th:block>
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#leftMiniCarousel4"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon"></span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#leftMiniCarousel4"
						data-bs-slide="next">
						<span class="carousel-control-next-icon"></span>
					</button>
				</div>

			</div>

			<div class="col-md-10 position-relative">
			  <div id="cpuCarousel" class="carousel slide" data-bs-ride="carousel">
			    <div class="carousel-inner">
			      <!-- Ï∫êÎü¨ÏÖÄ ÏïÑÏù¥ÌÖú Î∞òÎ≥µ -->
			      <th:block th:each="product, stat : ${productGroups}">
			        <th:block th:if="${stat.index % 10 == 0}">
			          <div th:class="${stat.index == 0} ? 'carousel-item active' : 'carousel-item'">
			            <div class="row row-cols-1 row-cols-md-5 g-4">
			              <th:block th:each="innerProduct, innerStat : ${productGroups}">
			                <th:block th:if="${innerStat.index >= stat.index and innerStat.index < stat.index + 10}">
			                  <div class="col">
			                    <a th:href="@{'/shop/goShop/' + ${innerProduct.id}}" class="text-decoration-none text-dark">
			                      <div class="card h-100">
			                        <img th:src="@{'/Images/' + ${innerProduct.fileName}}"
			                             class="card-img-top"
			                             style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
			                        <div class="card-body">
			                          <h6 class="card-title text-truncate">[[${innerProduct.name}]]</h6>
			                          <p class="card-text fw-bold text-primary">
			                            [[${#numbers.formatInteger(innerProduct.price, 3, 'COMMA')}]]Ïõê
			                          </p>
			                        </div>
			                      </div>
			                    </a>
			                  </div>
			                </th:block>
			              </th:block>
			            </div>
			          </div>
			        </th:block>
			      </th:block>
			    </div>
			  </div>

			  <!-- üî∏ Ïä¨ÎùºÏù¥Îìú Î≤ÑÌäºÏùÑ carousel Î∞ñÏúºÎ°ú Î∂ÑÎ¶¨ÌïòÍ≥† Ïö∞ÏÉÅÎã® Í≥†Ï†ï -->
			  <button class="btn btn-light position-absolute top-0 end-0 mt-2 me-5 z-3"
			          style="width: 40px; height: 40px;"
			          type="button" data-bs-target="#cpuCarousel" data-bs-slide="prev">
			    <span class="carousel-control-prev-icon" style="filter: invert(1);"></span>
			  </button>

			  <button class="btn btn-light position-absolute top-0 end-0 mt-2 me-2 z-3"
			          style="width: 40px; height: 40px;"
			          type="button" data-bs-target="#cpuCarousel" data-bs-slide="next">
			    <span class="carousel-control-next-icon" style="filter: invert(1);"></span>
			  </button>
			</div>
		</div>
	</div>
	<!-- CPU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">CPU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${cpuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- GPU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">GPU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${gpuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- RAM -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">RAM</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${ramList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- DISK -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">DISK</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${diskList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- MBOARD -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">M/B</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${mboardList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- PSU -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">PSU</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${psuList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>

		<!-- COMCASE -->
		<div class="mb-5">
			<h4 class="fw-bold border-bottom pb-2 mb-3">ÏºÄÏù¥Ïä§</h4>
			<div class="row row-cols-1 row-cols-md-5 g-4">
				<th:block th:each="product : ${comcaseList}">
					<div class="col">
						<a th:href="@{'/shop/goShop/' + ${product.id}}" class="text-decoration-none text-dark">
							<div class="card h-100">
								<img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top" style="height: 180px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
								<div class="card-body">
									<h6 class="card-title text-truncate">[[${product.name}]]</h6>
									<p class="card-text fw-bold text-primary">[[${#numbers.formatInteger(product.price, 3, 'COMMA')}]]Ïõê</p>
								</div>
							</div>
						</a>
					</div>
				</th:block>
			</div>
		</div>
		
		<div class="container text-center mt-5 mb-4">
		  <h2 class="display-5 fw-bold">üõçÔ∏è Î∂ÄÌíà ÏÉÅÏ†êÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§!</h2>
		  <p class="lead text-muted">ÌïÑÏöîÌïú Î∂ÄÌíàÏùÑ Îπ†Î•¥Í≤å Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.</p>
		</div>

	<!-- 3. Ï∂îÏ≤ú ÏÉÅÌíà Î¶¨Ïä§Ìä∏ -->
	<div class="container mt-5" id="productList">
	  <form th:action="@{/main}" method="get" class="input-group mb-4">
	    <input type="text" class="form-control" name="keyword" placeholder="ÏõêÌïòÎäî Ï†úÌíàÏùÑ Í≤ÄÏÉâÌïòÏÑ∏Ïöî"
	           th:value="${keyword}">
	    <button class="btn btn-outline-primary" type="submit">Í≤ÄÏÉâ</button>
	  </form>
	</div>

	<!-- 2. Î∂ÄÌíà ÌïÑÌÑ∞ Î≤ÑÌäº ÏòÅÏó≠ -->
	<div class="container mb-4">
	  <div class="btn-group w-100 d-flex flex-wrap justify-content-center gap-2" role="group">
	    <a th:href="@{/shop/filter/ALL}"
	       class="btn btn-outline-secondary flex-fill">Ï†ÑÏ≤¥</a>
	    <a th:href="@{/shop/filter/CPU}"
	       class="btn btn-outline-secondary flex-fill">CPU</a>
	    <a th:href="@{/shop/filter/GPU}"
	       class="btn btn-outline-secondary flex-fill">GPU</a>
	    <a th:href="@{/shop/filter/RAM}"
	       class="btn btn-outline-secondary flex-fill">RAM</a>
	    <a th:href="@{/shop/filter/DISK}"
	       class="btn btn-outline-secondary flex-fill">ÎîîÏä§ÌÅ¨</a>
	    <a th:href="@{/shop/filter/MBOARD}"
	       class="btn btn-outline-secondary flex-fill">Î©îÏù∏Î≥¥Îìú</a>
	    <a th:href="@{/shop/filter/PSU}"
	       class="btn btn-outline-secondary flex-fill">ÌååÏõå</a>
	    <a th:href="@{/shop/filter/COMCASE}"
	       class="btn btn-outline-secondary flex-fill">ÏºÄÏù¥Ïä§</a>
	  </div>
	</div>

	<!-- 3. Ï∂îÏ≤ú ÏÉÅÌíà or Ï†ÑÏ≤¥ Î¶¨Ïä§Ìä∏ -->
	<div class="container">
	  <div class="row row-cols-1 row-cols-md-4 g-4">
	    <th:block th:each="product : ${productList}">
	      <div class="col">
	        <div class="card h-100 shadow-sm">
	          <img th:src="@{'/Images/' + ${product.fileName}}" class="card-img-top"
	               style="height: 200px; object-fit: cover;" alt="ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ">
	          <div class="card-body">
	            <h5 class="card-title" th:text="${product.name}">Ï†úÌíà Ïù¥Î¶Ñ</h5>
	            <p class="card-text">
	              <!-- Ï†úÌíà ÏÑ§Î™ÖÏù¥ DBÏóê ÏóÜÎã§Î©¥ Í≥†Ï†ï ÌÖçÏä§Ìä∏ ÎòêÎäî Ï°∞Í±¥ Ï∂îÍ∞Ä -->
	              ÏµúÍ≥†Ïùò ÏÑ±Îä•Í≥º ÌíàÏßàÏùÑ ÏûêÎûëÌïòÎäî Î∂ÄÌíàÏûÖÎãàÎã§.
	            </p>
	            <a th:href="@{'/buy/' + ${product.id}}" class="btn btn-primary w-100">Íµ¨Îß§ÌïòÍ∏∞</a>
	          </div>
	        </div>
	      </div>
	    </th:block>
	  </div>
	</div>

</div>

</html>